%Divya Gunasekaran
%Compute Jacobian
%April 17, 2011

function J = computeJacobian(angles, side)

L1 = 7.75;
L2 = 4.125;
L3 = 0.5;
L4 = 4.3;
L5 = 3.3125;
L6 = 2.75;

a1 = angles(1); % torsoyaw
a23 = (angles(2)-angles(3))/2; % avg of 2 torsopitch servos

if(strcmp(side, 'right'))

    a4 = angles(4);
    a5 = angles(5);
    a6 = angles(6);

    dxR1 = -L1*sin(-a6)*cos(-a5)*cos(-a4)*cos(a23)*sin(a1) - ...
        L1*cos(-a6)*sin(-a5)*cos(-a4)*cos(a23)*sin(a1) - ...
        L2*sin(-a5)*cos(-a4)*cos(a23)*sin(a1) - L3*cos(-a4)*cos(a23)*sin(a1) + ...
        L1*sin(-a6)*cos(-a5)*sin(-a4)*sin(a23)*sin(a1) + L1*cos(-a6)*sin(-a5)*sin(-a4)*sin(a23)*sin(a1) + ...
        L2*sin(-a5)*sin(-a4)*sin(a23)*sin(a1) + L3*sin(-a4)*sin(a23)*sin(a1) - ...
        L4*sin(a23)*sin(a1) - L1*sin(-a6)*sin(-a5)*cos(a1) + L1*cos(-a6)*cos(-a5)*cos(a1) + ...
        L2*cos(-a5)*cos(a1) + L5*cos(a1);

    dxR2 = -0.5*L1*sin(-a6)*cos(-a5)*cos(-a4)*sin(a23)*cos(a1) - ...
        0.5*L1*cos(-a6)*sin(-a5)*cos(-a4)*sin(a23)*cos(a1) - ...
        0.5*L2*sin(-a5)*cos(-a4)*sin(a23)*cos(a1) - 0.5*L3*cos(-a4)*sin(a23)*cos(a1) - ...
        0.5*L1*sin(-a6)*cos(-a5)*sin(-a4)*cos(a23)*cos(a1) - 0.5*L1*cos(-a6)*sin(-a5)*sin(-a4)*cos(a23)*cos(a1) - ...
        0.5*L2*sin(-a5)*sin(-a4)*cos(a23)*cos(a1) - 0.5*L3*sin(-a4)*cos(a23)*cos(a1) + ...
        0.5*L4*cos(a23)*cos(a1);

    dxR3 = 0.5*L1*sin(-a6)*cos(-a5)*cos(-a4)*sin(a23)*cos(a1) + ...
        0.5*L1*cos(-a6)*sin(-a5)*cos(-a4)*sin(a23)*cos(a1) + ...
        0.5*L2*sin(-a5)*cos(-a4)*sin(a23)*cos(a1) + 0.5*L3*cos(-a4)*sin(a23)*cos(a1) + ...
        0.5*L1*sin(-a6)*cos(-a5)*sin(-a4)*cos(a23)*cos(a1) + 0.5*L1*cos(-a6)*sin(-a5)*sin(-a4)*cos(a23)*cos(a1) + ...
        0.5*L2*sin(-a5)*sin(-a4)*cos(a23)*cos(a1) + 0.5*L3*sin(-a4)*cos(a23)*cos(a1) - ...
        0.5*L4*cos(a23)*cos(a1);

    dxR4 = L1*sin(-a6)*cos(-a5)*sin(-a4)*cos(a23)*cos(a1) + ...
        L1*cos(-a6)*sin(-a5)*sin(-a4)*cos(a23)*cos(a1) + ...
        L2*sin(-a5)*sin(-a4)*cos(a23)*cos(a1) + L3*sin(-a4)*cos(a23)*cos(a1) + ...
        L1*sin(-a6)*cos(-a5)*cos(-a4)*sin(a23)*cos(a1) + L1*cos(-a6)*sin(-a5)*cos(-a4)*sin(a23)*cos(a1) + ...
        L2*sin(-a5)*cos(-a4)*sin(a23)*cos(a1) + L3*cos(-a4)*sin(a23)*cos(a1);

    dxR5 = L1*sin(-a6)*sin(-a5)*cos(-a4)*cos(a23)*cos(a1) - ...
        L1*cos(-a6)*cos(-a5)*cos(-a4)*cos(a23)*cos(a1) - ...
        L2*cos(-a5)*cos(-a4)*cos(a23)*cos(a1) - ...
        L1*sin(-a6)*sin(-a5)*sin(-a4)*sin(a23)*cos(a1) + L1*cos(-a6)*cos(-a5)*sin(-a4)*sin(a23)*cos(a1) + ...
        L2*cos(-a5)*sin(-a4)*sin(a23)*cos(a1) ...
        + L1*sin(-a6)*cos(-a5)*sin(a1) + L1*cos(-a6)*sin(-a5)*sin(a1) + ...
        L2*sin(-a5)*sin(a1);

    dxR6 = -L1*cos(-a6)*cos(-a5)*cos(-a4)*cos(a23)*cos(a1) + ...
        L1*sin(-a6)*sin(-a5)*cos(-a4)*cos(a23)*cos(a1) + ...
        L1*cos(-a6)*cos(-a5)*sin(-a4)*sin(a23)*cos(a1) - L1*sin(-a6)*sin(-a5)*sin(-a4)*sin(a23)*cos(a1) + ...
        L1*cos(-a6)*sin(-a5)*sin(a1) + L1*sin(-a6)*cos(-a5)*sin(a1);

    dxR7 = 0;

    dyR1 = L1*sin(-a6)*cos(-a5)*cos(-a4)*cos(a23)*cos(a1) + ...
        L1*cos(-a6)*sin(-a5)*cos(-a4)*cos(a23)*cos(a1) + ...
        L2*sin(-a5)*cos(-a4)*cos(a23)*cos(a1) + L3*cos(-a4)*cos(a23)*cos(a1) - ...
        L1*sin(-a6)*cos(-a5)*sin(-a4)*sin(a23)*cos(a1) - ...
        L1*cos(-a6)*sin(-a5)*sin(-a4)*sin(a23)*cos(a1) - L2*sin(-a5)*sin(-a4)*sin(a23)*cos(a1) - ...
        L3*sin(-a4)*sin(a23)*cos(a1) + L4*sin(a23)*cos(a1) - L1*sin(-a6)*sin(-a5)*sin(a1) + ...
        L1*cos(-a6)*cos(-a5)*sin(a1) + L2*cos(-a5)*sin(a1) + L5*sin(a1);

    dyR2 = -0.5*L1*sin(-a6)*cos(-a5)*cos(-a4)*sin(a23)*sin(a1) - ...
        0.5*L1*cos(-a6)*sin(-a5)*cos(-a4)*sin(a23)*sin(a1) - ...
        0.5*L2*sin(-a5)*cos(-a4)*sin(a23)*sin(a1) - 0.5*L3*cos(-a4)*sin(a23)*sin(a1) - ...
        0.5*L1*sin(-a6)*cos(-a5)*sin(-a4)*cos(a23)*sin(a1) - ...
        0.5*L1*cos(-a6)*sin(-a5)*sin(-a4)*cos(a23)*sin(a1) - 0.5*L2*sin(-a5)*sin(-a4)*cos(a23)*sin(a1) - ...
        0.5*L3*sin(-a4)*cos(a23)*sin(a1) + 0.5*L4*cos(a23)*sin(a1); 

    dyR3 = 0.5*L1*sin(-a6)*cos(-a5)*cos(-a4)*sin(a23)*sin(a1) + ...
        0.5*L1*cos(-a6)*sin(-a5)*cos(-a4)*sin(a23)*sin(a1) + ...
        0.5*L2*sin(-a5)*cos(-a4)*sin(a23)*sin(a1) + 0.5*L3*cos(-a4)*sin(a23)*sin(a1) + ...
        0.5*L1*sin(-a6)*cos(-a5)*sin(-a4)*cos(a23)*sin(a1) + ...
        0.5*L1*cos(-a6)*sin(-a5)*sin(-a4)*cos(a23)*sin(a1) + 0.5*L2*sin(-a5)*sin(-a4)*cos(a23)*sin(a1) + ...
        0.5*L3*sin(-a4)*cos(a23)*sin(a1) - 0.5*L4*cos(a23)*sin(a1);

    dyR4 = L1*sin(-a6)*cos(-a5)*sin(-a4)*cos(a23)*sin(a1) + ...
        L1*cos(-a6)*sin(-a5)*sin(-a4)*cos(a23)*sin(a1) + ...
        L2*sin(-a5)*sin(-a4)*cos(a23)*sin(a1) + L3*sin(-a4)*cos(a23)*sin(a1) + ...
        L1*sin(-a6)*cos(-a5)*cos(-a4)*sin(a23)*sin(a1) + ...
        L1*cos(-a6)*sin(-a5)*cos(-a4)*sin(a23)*sin(a1) + L2*sin(-a5)*cos(-a4)*sin(a23)*sin(a1) + ...
        L3*cos(-a4)*sin(a23)*sin(a1);

    dyR5 = L1*sin(-a6)*sin(-a5)*cos(-a4)*cos(a23)*sin(a1) - ...
        L1*cos(-a6)*cos(-a5)*cos(-a4)*cos(a23)*sin(a1) - ...
        L2*cos(-a5)*cos(-a4)*cos(a23)*sin(a1) - ...
        L1*sin(-a6)*sin(-a5)*sin(-a4)*sin(a23)*sin(a1) + ...
        L1*cos(-a6)*cos(-a5)*sin(-a4)*sin(a23)*sin(a1) + L2*cos(-a5)*sin(-a4)*sin(a23)*sin(a1) ...
        - L1*sin(-a6)*cos(-a5)*cos(a1) - L1*cos(-a6)*sin(-a5)*cos(a1) - L2*sin(-a5)*cos(a1);

    dyR6 = -L1*cos(-a6)*cos(-a5)*cos(-a4)*cos(a23)*sin(a1) + ...
        L1*sin(-a6)*sin(-a5)*cos(-a4)*cos(a23)*sin(a1) + ...
        L1*cos(-a6)*cos(-a5)*sin(-a4)*sin(a23)*sin(a1) - ...
        L1*sin(-a6)*sin(-a5)*sin(-a4)*sin(a23)*sin(a1) - L1*cos(-a6)*sin(-a5)*cos(a1) - ...
        L1*sin(-a6)*cos(-a5)*cos(a1);

    dyR7 = 0;

    dzR1 = 0;

    dzR2 = -0.5*L1*sin(-a6)*cos(-a5)*cos(-a4)*cos(a23) - 0.5*L1*cos(-a6)*sin(-a5)*cos(-a4)*cos(a23) - ...
        0.5*L2*sin(-a5)*cos(-a4)*cos(a23) - 0.5*L3*cos(-a4)*cos(a23) + 0.5*L1*sin(-a6)*cos(-a5)*sin(-a4)*sin(a23) + ...
        0.5*L1*cos(-a6)*sin(-a5)*sin(-a4)*sin(a23) + 0.5*L2*sin(-a5)*sin(-a4)*sin(a23) + ...
        0.5*L3*sin(-a4)*sin(a23) - 0.5*L4*sin(a23);

    dzR3 = 0.5*L1*sin(-a6)*cos(-a5)*cos(-a4)*cos(a23) + 0.5*L1*cos(-a6)*sin(-a5)*cos(-a4)*cos(a23) + ...
        0.5*L2*sin(-a5)*cos(-a4)*cos(a23) + 0.5*L3*cos(-a4)*cos(a23) - 0.5*L1*sin(-a6)*cos(-a5)*sin(-a4)*sin(a23) - ...
        0.5*L1*cos(-a6)*sin(-a5)*sin(-a4)*sin(a23) - 0.5*L2*sin(-a5)*sin(-a4)*sin(a23) - ...
        0.5*L3*sin(-a4)*sin(a23) + 0.5*L4*sin(a23);

    dzR4 = -L1*sin(-a6)*cos(-a5)*sin(-a4)*sin(a23) - L1*cos(-a6)*sin(-a5)*sin(-a4)*sin(a23) - ...
        L2*sin(-a5)*sin(-a4)*sin(a23) - L3*sin(-a4)*sin(a23) + L1*sin(-a6)*cos(-a5)*cos(-a4)*cos(a23) + ...
        L1*cos(-a6)*sin(-a5)*cos(-a4)*cos(a23) + L2*sin(-a5)*cos(-a4)*cos(a23) + ...
        L3*cos(-a4)*cos(a23);

    dzR5 = -L1*sin(-a6)*sin(-a5)*cos(-a4)*sin(a23) + L1*cos(-a6)*cos(-a5)*cos(-a4)*sin(a23) + ...
        L2*cos(-a5)*cos(-a4)*sin(a23) - L1*sin(-a6)*sin(-a5)*sin(-a4)*cos(a23) + ...
        L1*cos(-a6)*cos(-a5)*sin(-a4)*cos(a23) + L2*cos(-a5)*sin(-a4)*cos(a23);

    dzR6 = L1*cos(-a6)*cos(-a5)*cos(-a4)*sin(a23) - L1*sin(-a6)*sin(-a5)*cos(-a4)*sin(a23) ...
        + L1*cos(-a6)*cos(-a5)*sin(-a4)*cos(a23) - ...
        L1*sin(-a6)*sin(-a5)*sin(-a4)*cos(a23);

    dzR7 = 0;

    J = [dxR1 dxR2 dxR3 dxR4 dxR5 dxR6 dxR7; dyR1 dyR2 dyR3 dyR4 dyR5 dyR6 dyR7; ...
        dzR1 dzR2 dzR3 dzR4 dzR5 dzR6 dzR7];


elseif(strcmp(side, 'left'))
    
    a8 = angles(4);
    a9 = angles(5);
    a10 = angles(6);

    dxL1 = L1*sin(-a10)*cos(-a9)*cos(a8)*cos(a23)*sin(a1) + ...
        L1*cos(-a10)*sin(-a9)*cos(a8)*cos(a23)*sin(a1) + ...
        L2*sin(-a9)*cos(a8)*cos(a23)*sin(a1) - L3*cos(a8)*cos(a23)*sin(a1) - ...
        L1*sin(-a10)*cos(-a9)*sin(a8)*sin(a23)*sin(a1) - L1*cos(-a10)*sin(-a9)*sin(a8)*sin(a23)*sin(a1) - ...
        L2*sin(-a9)*sin(a8)*sin(a23)*sin(a1) + L3*sin(a8)*sin(a23)*sin(a1) - ...
        L4*sin(a23)*sin(a1) + L1*sin(-a10)*sin(-a9)*cos(a1) - L1*cos(-a10)*cos(-a9)*cos(a1) - ...
        L2*cos(-a9)*cos(a1) - L5*cos(a1);

    dxL2 = 0.5*L1*sin(-a10)*cos(-a9)*cos(a8)*sin(a23)*cos(a1) + ...
        0.5*L1*cos(-a10)*sin(-a9)*cos(a8)*sin(a23)*cos(a1) + ...
        0.5*L2*sin(-a9)*cos(a8)*sin(a23)*cos(a1) - 0.5*L3*cos(a8)*sin(a23)*cos(a1) + ...
        0.5*L1*sin(-a10)*cos(-a9)*sin(a8)*cos(a23)*cos(a1) + 0.5*L1*cos(-a10)*sin(-a9)*sin(a8)*cos(a23)*cos(a1) + ...
        0.5*L2*sin(-a9)*sin(a8)*cos(a23)*cos(a1) - 0.5*L3*sin(a8)*cos(a23)*cos(a1) + ...
        0.5*L4*cos(a23)*cos(a1);

    dxL3 = -0.5*L1*sin(-a10)*cos(-a9)*cos(a8)*sin(a23)*cos(a1) - ...
        0.5*L1*cos(-a10)*sin(-a9)*cos(a8)*sin(a23)*cos(a1) - ...
        0.5*L2*sin(-a9)*cos(a8)*sin(a23)*cos(a1) + 0.5*L3*cos(a8)*sin(a23)*cos(a1) - ...
        0.5*L1*sin(-a10)*cos(-a9)*sin(a8)*cos(a23)*cos(a1) - 0.5*L1*cos(-a10)*sin(-a9)*sin(a8)*cos(a23)*cos(a1) - ...
        0.5*L2*sin(-a9)*sin(a8)*cos(a23)*cos(a1) + 0.5*L3*sin(a8)*cos(a23)*cos(a1) - ...
        0.5*L4*cos(a23)*cos(a1);

    dxL8 = L1*sin(-a10)*cos(-a9)*sin(a8)*cos(a23)*cos(a1) + ...
        L1*cos(-a10)*sin(-a9)*sin(a8)*cos(a23)*cos(a1) + ...
        L2*sin(-a9)*sin(a8)*cos(a23)*cos(a1) - L3*sin(a8)*cos(a23)*cos(a1) + ...
        L1*sin(-a10)*cos(-a9)*cos(a8)*sin(a23)*cos(a1) + L1*cos(-a10)*sin(-a9)*cos(a8)*sin(a23)*cos(a1) + ...
        L2*sin(-a9)*cos(a8)*sin(a23)*cos(a1) - L3*cos(a8)*sin(a23)*cos(a1);

    dxL9 = -L1*sin(-a10)*sin(-a9)*cos(a8)*cos(a23)*cos(a1) + ...
        L1*cos(-a10)*cos(-a9)*cos(a8)*cos(a23)*cos(a1) + ...
        L2*cos(-a9)*cos(a8)*cos(a23)*cos(a1) + ...
        L1*sin(-a10)*sin(-a9)*sin(a8)*sin(a23)*cos(a1) - L1*cos(-a10)*cos(-a9)*sin(a8)*sin(a23)*cos(a1) - ...
        L2*cos(-a9)*sin(a8)*sin(a23)*cos(a1) ...
        - L1*sin(-a10)*cos(-a9)*sin(a1) - L1*cos(-a10)*sin(-a9)*sin(a1) - ...
        L2*sin(-a9)*sin(a1);

    dxL10 = L1*cos(-a10)*cos(-a9)*cos(a8)*cos(a23)*cos(a1) - ...
        L1*sin(-a10)*sin(-a9)*cos(a8)*cos(a23)*cos(a1) ...
        - L1*cos(-a10)*cos(-a9)*sin(a8)*sin(a23)*cos(a1) + L1*sin(-a10)*sin(-a9)*sin(a8)*sin(a23)*cos(a1) ...
        - L1*cos(-a10)*sin(-a9)*sin(a1) - L1*sin(-a10)*cos(-a9)*sin(a1);
    
    dxL11 = 0;

    dyL1 = -L1*sin(-a10)*cos(-a9)*cos(a8)*cos(a23)*cos(a1) - ...
        L1*cos(-a10)*sin(-a9)*cos(a8)*cos(a23)*cos(a1) - ...
        L2*sin(-a9)*cos(a8)*cos(a23)*cos(a1) + L3*cos(a8)*cos(a23)*cos(a1) + ...
        L1*sin(-a10)*cos(-a9)*sin(a8)*sin(a23)*cos(a1) + ...
        L1*cos(-a10)*sin(-a9)*sin(a8)*sin(a23)*cos(a1) + L2*sin(-a9)*sin(a8)*sin(a23)*cos(a1) - ...
        L3*sin(a8)*sin(a23)*cos(a1) + L4*sin(a23)*cos(a1) + L1*sin(-a10)*sin(-a9)*sin(a1) - ...
        L1*cos(-a10)*cos(-a9)*sin(a1) - L2*cos(-a9)*sin(a1) - L5*sin(a1);

    dyL2 = 0.5*L1*sin(-a10)*cos(-a9)*cos(a8)*sin(a23)*sin(a1) + ...
        0.5*L1*cos(-a10)*sin(-a9)*cos(a8)*sin(a23)*sin(a1) + ...
        0.5*L2*sin(-a9)*cos(a8)*sin(a23)*sin(a1) - 0.5*L3*cos(a8)*sin(a23)*sin(a1) + ...
        0.5*L1*sin(-a10)*cos(-a9)*sin(a8)*cos(a23)*sin(a1) + ...
        0.5*L1*cos(-a10)*sin(-a9)*sin(a8)*cos(a23)*sin(a1) + 0.5*L2*sin(-a9)*sin(a8)*cos(a23)*sin(a1) - ...
        0.5*L3*sin(a8)*cos(a23)*sin(a1) + 0.5*L4*cos(a23)*sin(a1);

    dyL3 = -0.5*L1*sin(-a10)*cos(-a9)*cos(a8)*sin(a23)*sin(a1) - ...
        0.5*L1*cos(-a10)*sin(-a9)*cos(a8)*sin(a23)*sin(a1) - ...
        0.5*L2*sin(-a9)*cos(a8)*sin(a23)*sin(a1) + 0.5*L3*cos(a8)*sin(a23)*sin(a1) - ...
        0.5*L1*sin(-a10)*cos(-a9)*sin(a8)*cos(a23)*sin(a1) - ...
        0.5*L1*cos(-a10)*sin(-a9)*sin(a8)*cos(a23)*sin(a1) - 0.5*L2*sin(-a9)*sin(a8)*cos(a23)*sin(a1) + ...
        0.5*L3*sin(a8)*cos(a23)*sin(a1) - 0.5*L4*cos(a23)*sin(a1);

    dyL8 = L1*sin(-a10)*cos(-a9)*sin(a8)*cos(a23)*sin(a1) + ...
        L1*cos(-a10)*sin(-a9)*sin(a8)*cos(a23)*sin(a1) + ...
        L2*sin(-a9)*sin(a8)*cos(a23)*sin(a1) - L3*sin(a8)*cos(a23)*sin(a1) + ...
        L1*sin(-a10)*cos(-a9)*cos(a8)*sin(a23)*sin(a1) + ...
        L1*cos(-a10)*sin(-a9)*cos(a8)*sin(a23)*sin(a1) + L2*sin(-a9)*cos(a8)*sin(a23)*sin(a1) - ...
        L3*cos(a8)*sin(a23)*sin(a1);

    dyL9 = -L1*sin(-a10)*sin(-a9)*cos(a8)*cos(a23)*sin(a1) + ...
        L1*cos(-a10)*cos(-a9)*cos(a8)*cos(a23)*sin(a1) + ...
        L2*cos(-a9)*cos(a8)*cos(a23)*sin(a1) + ...
        L1*sin(-a10)*sin(-a9)*sin(a8)*sin(a23)*sin(a1) - ...
        L1*cos(-a10)*cos(-a9)*sin(a8)*sin(a23)*sin(a1) - L2*cos(-a9)*sin(a8)*sin(a23)*sin(a1) ...
        + L1*sin(-a10)*cos(-a9)*cos(a1) + ...
        L1*cos(-a10)*sin(-a9)*cos(a1) + L2*sin(-a9)*cos(a1);

    dyL10 = L1*cos(-a10)*cos(-a9)*cos(a8)*cos(a23)*sin(a1) - ...
        L1*sin(-a10)*sin(-a9)*cos(a8)*cos(a23)*sin(a1) ...
        - L1*cos(-a10)*cos(-a9)*sin(a8)*sin(a23)*sin(a1) + ...
        L1*sin(-a10)*sin(-a9)*sin(a8)*sin(a23)*sin(a1) ...
        + L1*cos(-a10)*sin(-a9)*cos(a1) + ...
        L1*sin(-a10)*cos(-a9)*cos(a1);
    
    dyL11 = 0;

    dzL1 = 0;

    dzL2 = 0.5*L1*sin(-a10)*cos(-a9)*cos(a8)*cos(a23) + 0.5*L1*cos(-a10)*sin(-a9)*cos(a8)*cos(a23) + ...
        0.5*L2*sin(-a9)*cos(a8)*cos(a23) - 0.5*L3*cos(a8)*cos(a23) - 0.5*L1*sin(-a10)*cos(-a9)*sin(a8)*sin(a23) - ...
        0.5*L1*cos(-a10)*sin(-a9)*sin(a8)*sin(a23) - 0.5*L2*sin(-a9)*sin(a8)*sin(a23) + ...
        0.5*L3*sin(a8)*sin(a23) - 0.5*L4*sin(a23);

    dzL3 = -0.5*L1*sin(-a10)*cos(-a9)*cos(a8)*cos(a23) - 0.5*L1*cos(-a10)*sin(-a9)*cos(a8)*cos(a23) - ...
        0.5*L2*sin(-a9)*cos(a8)*cos(a23) + 0.5*L3*cos(a8)*cos(a23) + 0.5*L1*sin(-a10)*cos(-a9)*sin(a8)*sin(a23) + ...
        0.5*L1*cos(-a10)*sin(-a9)*sin(a8)*sin(a23) + 0.5*L2*sin(-a9)*sin(a8)*sin(a23) - ...
        0.5*L3*sin(a8)*sin(a23) + 0.5*L4*sin(a23);

    dzL8 = -L1*sin(-a10)*cos(-a9)*sin(a8)*sin(a23) - L1*cos(-a10)*sin(-a9)*sin(a8)*sin(a23) - ...
        L2*sin(-a9)*sin(a8)*sin(a23) + L3*sin(a8)*sin(a23) + L1*sin(-a10)*cos(-a9)*cos(a8)*cos(a23) + ...
        L1*cos(-a10)*sin(-a9)*cos(a8)*cos(a23) + L2*sin(-a9)*cos(a8)*cos(a23) - ...
        L3*cos(a8)*cos(a23);

    dzL9 = L1*sin(-a10)*sin(-a9)*cos(a8)*sin(a23) - L1*cos(-a10)*cos(-a9)*cos(a8)*sin(a23) - ...
        L2*cos(-a9)*cos(a8)*sin(a23) + L1*sin(-a10)*sin(-a9)*sin(a8)*cos(a23) - ...
        L1*cos(-a10)*cos(-a9)*sin(a8)*cos(a23) - L2*cos(-a9)*sin(a8)*cos(a23);

    dzL10 = -L1*cos(-a10)*cos(-a9)*cos(a8)*sin(a23) + L1*sin(-a10)*sin(-a9)*cos(a8)*sin(a23) ...
        - L1*cos(-a10)*cos(-a9)*sin(a8)*cos(a23) + ...
        L1*sin(-a10)*sin(-a9)*sin(a8)*cos(a23);
    
    dzL11 = 0;

    J = [dxL1 dxL2 dxL3 dxL8 dxL9 dxL10 dxL11; dyL1 dyL2 dyL3 dyL8 dyL9 dyL10 dyL11; ...
            dzL1 dzL2 dzL3 dzL8 dzL9 dzL10 dzL11];
        
else
    disp('Error: Enter right or left side');
    return;
end

%Jinv = pinv(J);
